---
layout: post
title: "jvm.cfg引发的血案"
description: "can't open jvm.cfg引发Red5服务无法启动"
category: java
tags: [jvm.cfg, Red5, Java版本冲突, 流媒体]
---
{% include JB/setup %}

这几天在折腾流媒体播放，*ML君*(话说他的名字好诡异的说，以前都没注意还能缩写成这样。。。喂喂，少年们，不要瞎想哈，如有好奇，自行百度。。)先行一步果断相中了Red5，而且之前*死胖子*也提及这个乃大杀器，二话不说果断开始搞起。奈何路漫漫其修远，Red5在天边。。依然是万恶的分割线后继续。。

BTW, 由于本文中心思想是jvm.cfg引发的血案，所以Red5的安装等等不一一细说，待后期博主搞定后再行分享→ →

***

起先果断去Red5的官网down了一个`1.0`的免安装版本，解压、运行，一切正常，但是访问自带demo的时候各种坑爹，后台也没显示啥错，只好表示这个小生初来乍到，默默*shift+del*然后去官网down了一个exe安装版本， 一路狂点next， 我看到了，我看到了Red5女神在向我招手。。。

安装完毕，没有任何问题，默默点开服务准备启动Red5开始L.........（浏览，别想歪了的说）。只看到那服务启动的进度条读啊读，读了N久不见动静，一股不祥的预感袭来。果然，最后**铛**的弹出一股框，上书：  

> red5 无法启动bulabula一堆，发生服务特定错误: 1

这时候我恨不得桌子一掀，大吼**坑爹的吧**。*ML君*RP那么差安装的时候一点问题都没有，到我就各种悲剧的说，默默两眼泪啊。

由于这个东东需要做那个啥重大调研，安装、调试、写个Hello World是必须的，所以只能找原因。果断点开Red5安装目录下`log\red5_service.log`文件，捕获到到问题的元凶：  
![can't open jvm.cfg导致Red5无法启动](/assets/images/2013-05/java_jvm_cfg_problem.png)

看到这个果断两眼冒金星啊，当年为了这个**jvm.cfg**的问题，把git重装了N编，就是为了在git bash里面折腾*play*，奈何当初道行太浅，最后还是被其斩杀于无尽的报错中。。。

怀念完往事，果断开始搞起。依然请出我们的google同学，根据其返回的结果，一般大部分人参考如下步骤进行修复工作：  

 * `JAVA_HOME`, `path`, `CLASSPATH`要配置正确。
 * 清理注册表。
 * 卸载后安装更高版本。
 * 使用windows install clean up。

我参考着进行这种折腾，奈何依然报错。最后来到[Error: could not open `C:\Program Files\Java\jre6\lib\i386\jvm.cfg')](http://lwjlaser.iteye.com/blog/1517346)文章里面，一看，有道理，果断删掉，重新安装最新版本的JDK，重启。。。。。。。问题依然存在。。

至此，博主感觉人生一片灰暗，看来探索Red5这个光荣而重大的使命只好交给*ML君*了。正准备关机洗洗睡了，突然灵光一现(此处可参考柯南获得破案思路的场景)，貌似在某个阴暗的地方(实在是记不起来了)看到过在`windows x64`下，某些东西除了在`C:\Windows\System32`目录下，还可能在`C:\Windows\SysWOW64`目录下，果然杀过去，正应了那句话:  

> 踏破铁鞋无觅处， 那人却在灯火阑珊处

点开一看版本，果然符合作案条件，果断祭起屠刀，**shift+delete**！！

至此，问题已解决。只能说：　

>只要功夫深，Google能填坑！




